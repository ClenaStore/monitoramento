<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Monitor de ProduÃ§Ã£o</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background: #0b1020;
      color: #fff;
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    header {
      background: #2563eb;
      display: flex; align-items: center;
      padding: 10px 20px;
      font-size: 26px; font-weight: bold;
    }
    header img { height: 50px; margin-right: 15px; }

    .main {
      flex: 1;
      display: flex;
      overflow: hidden;
    }
    .container {
      flex: 1;
      display: flex; flex-wrap: wrap;
      gap: 20px; padding: 20px;
      overflow-y: auto;
      align-content: flex-start;
    }
    .card {
      background: #fff; color: #000;
      border-radius: 16px;
      padding: 20px;
      width: 340px;
      box-shadow: 0 6px 16px rgba(0,0,0,.3);
      font-size: 22px;
      cursor: pointer;
      transition: transform .2s;
    }
    .card:hover { transform: scale(1.05); }
    .card img { width: 100%; border-radius: 12px; margin-bottom: 15px; }
    .title { font-weight: bold; font-size: 26px; margin-bottom: 8px; }
    .obs { font-size: 20px; color: #444; margin-bottom: 15px; }
    .time {
      font-size: 22px; font-weight: bold;
      padding: 8px 12px; border-radius: 8px;
      display: inline-block; margin-bottom: 15px;
    }
    .time.normal { background: #e0f7e9; color: #16a34a; }
    .time.alert { background: #fde68a; color: #92400e; }
    .time.late { background: #fecaca; color: #b91c1c; animation: blink 1s infinite; }
    @keyframes blink { 50% { opacity: 0.5; } }

    .actions { display: flex; gap: 12px; }
    button {
      flex: 1; padding: 14px;
      border: none; border-radius: 8px;
      font-weight: bold; cursor: pointer;
      font-size: 18px;
    }
    .btn-pronto { background: #8b5cf6; color: #fff; }

    /* Painel lateral */
    .sidebar {
      width: 0;
      background: #fff; color: #000;
      overflow-x: hidden;
      transition: 0.4s;
      padding: 0;
      border-left: 4px solid #2563eb;
    }
    .sidebar.open {
      width: 40%;
      padding: 20px;
    }
    .sidebar h2 { margin-top: 0; }
    .sidebar img {
      width: 100%; border-radius: 12px; margin-bottom: 15px;
    }
    .close-btn {
      background: #dc2626; color: #fff;
      border: none; padding: 10px 15px;
      font-size: 16px; border-radius: 6px;
      cursor: pointer; margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://github.com/ClenaStore/grupodv/blob/main/paste/Financeiro.png?raw=true" alt="Logo">
    ðŸ“Š Monitor de ProduÃ§Ã£o
  </header>

  <div class="main">
    <div class="container" id="pedidos"></div>
    <div class="sidebar" id="sidebar">
      <button class="close-btn" onclick="fecharSidebar()">Fechar</button>
      <div id="sidebarContent"></div>
    </div>
  </div>

  <audio id="alertSound">
    <source src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" type="audio/ogg">
  </audio>

  <script>
    // SimulaÃ§Ã£o Easy Assist
    const pedidos = [
      { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
      { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
            { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
            { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
            { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
            { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
            { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
            { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
            { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
            { id: 1, mesa: "Mesa 1", codigo: "P001", nome: "Duplo Burger", obs: "Sem cebola", tempo: 600, inicio: Date.now(), status: "andamento" },
    ];

    // SimulaÃ§Ã£o Planilha Google
    const fichaTecnica = {
      "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
  "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
       "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
       "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
       "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
       "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
       "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
       "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
       "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
       "P001": { foto: "https://upload.wikimedia.org/wikipedia/commons/9/91/Pizza-3007395.jpg", ingredientes: "PÃ£o, Carne, Queijo, Molho", preparo: "Grelhar carne e montar.", tempo: "10 min" },
      
    };

    const container = document.getElementById("pedidos");
    const sidebar = document.getElementById("sidebar");
    const sidebarContent = document.getElementById("sidebarContent");
    const alertSound = document.getElementById("alertSound");

    function renderPedidos() {
      container.innerHTML = "";
      pedidos.filter(p => p.status !== "cancelado" && p.status !== "pronto").forEach(p => {
        const tempoPassado = Math.floor((Date.now() - p.inicio) / 1000);
        const restante = p.tempo - tempoPassado;
        let classe = "normal";
        if (restante <= 0) { classe = "late"; alertSound.play(); }
        else if (restante < 60) { classe = "alert"; }

        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="${fichaTecnica[p.codigo]?.foto || ''}">
          <div class="title">${p.nome} - ${p.mesa}</div>
          <div class="obs">${p.obs || ''}</div>
          <div class="time ${classe}">${restante > 0 ? formatTime(restante) : "ðŸš¨ ATRASADO!"}</div>
          <div class="actions">
            <button class="btn-pronto">PRONTO</button>
          </div>
        `;
        card.onclick = () => abrirSidebar(p);
        const btnPronto = card.querySelector(".btn-pronto");
        btnPronto.onclick = e => { e.stopPropagation(); p.status="pronto"; renderPedidos(); };
        container.appendChild(card);
      });
    }

    function abrirSidebar(p) {
      const f = fichaTecnica[p.codigo];
      sidebarContent.innerHTML = `
        <h2>${p.nome} - ${p.mesa}</h2>
        <img src="${f.foto}">
        <p><b>Ingredientes:</b> ${f.ingredientes}</p>
        <p><b>Modo de Preparo:</b> ${f.preparo}</p>
        <p><b>Tempo de Preparo:</b> ${f.tempo}</p>
      `;
      sidebar.classList.add("open");
      setTimeout(fecharSidebar, 300000); // Fecha em 5 min
    }

    function fecharSidebar() {
      sidebar.classList.remove("open");
    }

    function formatTime(sec) {
      const m = Math.floor(sec/60), s = sec%60;
      return `${m}m ${s}s`;
    }

    setInterval(renderPedidos, 1000);
  </script>
</body>
</html>
